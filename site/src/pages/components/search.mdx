import { BestPracticeGroup, Example } from '../../layouts';
import {
  SearchExample,
  SearchIconPositionExample,
  SearchPlaceholder,
  SearchSimpleExample,
  SearchSuggestionsExample,
} from '../../examples';

<Example
  componentName="TextInput"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/site/src/examples/components/search/SearchExample.js"
  designer="https://designer.grommet.io/search?id=HPE-design-system-hpedesignsystem-hpe-com&mode=edit"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  figma="https://www.figma.com/file/5uOrsL2qk8XwwH8C1ZpDb6/HPE-Design-System-Components?type=design&node-id=1340-33248&t=KjhQZHbAZR51Nmwu-11"
  grommetSource="https://github.com/grommet/grommet/blob/master/src/js/components/TextInput/TextInput.js"
  width="medium"
>
  <SearchExample />
</Example>

## Guidance

Search inputs provide a powerful means for users to access content quickly and efficiently.

Many search best practices extend "behind the scenes," such as how query strings are matched to relevant content and to the efficiency in which that information is retrieved.

### Placeholder

Placeholder text should only contain the text "Search".

<BestPracticeGroup>
  <Example
    height="small"
    bestPractice={{
      type: 'do',
      message: 'Search placeholder only contains the text "Search".',
    }}
  >
    <SearchPlaceholder />
  </Example>
  <Example
    height="small"
    bestPractice={{
      type: 'dont',
      message: `Donâ€™t use specific attributes or descriptors in the search placeholder.`,
    }}
  >
    <SearchPlaceholder bestPractice={false} />
  </Example>
</BestPracticeGroup>

### Auto-suggestions

- Provide effective [auto-suggestions](#search-with-auto-suggestions) whenever possible.
- Auto suggestions accelerate search and allow users to focus on task completion.

### Returning search results

- Use "live filtering." When results are visible and quick to filter, results should be filtered as the user types.
- Sort results by highest relevance. Relevance can be determined by keyword matching, however, to really elevate user experience, consider implementing probability based approaches.
- Persist users' original query. This eliminates the need to re-type and assists query reformation if needed.
- Persist users' recently used search queries. Remembering the user's previous efforts respects their time and serves as "short cuts" for returning to previously visited content.

### Accessibility

Search inputs should be accessible. Ensure users have the ability to return results using their keyboard as well as clicking a button.

Inputs should always be accompanied by labels for accessibility. An icon may serve as a label if:

1. The icon meaning is well understood.
2. Has an 'aria-labelledby' attribute.

For additional detail, see [ARIA form hints](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/forms/Basic_form_hints) and ['aria-labelledby'](https://www.w3.org/WAI/tutorials/forms/labels/#using-aria-labelledby).

## Variants

Visual and functional extensions for Search.

### Search with auto suggestions

Suggestions provide users instantaneous feedback as they type, and aid by prompting with common search intents most closely matching the query in progress. Helpful matching functions include root word recognition and predictive text.

Suggested queries should be sorted from highest probability match to lowest. Limit the number of suggested queries displayed to five or less.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/site/src/examples/components/search/SearchSuggestionsExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  height={{ min: 'small' }}
  width="medium"
>
  <SearchSuggestionsExample />
</Example>

### Simple search

Use simple search when its input field is desired to blend with its surrounding content, such as when used in a [Header](/components/header).

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/site/src/examples/components/search/SearchSimpleExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  height={{ min: 'small' }}
  width="medium"
>
  <SearchSimpleExample />
</Example>

### Icon position

The search icon may be placed either to the right or left of the input field. Icon position is controlled via the [reverse](https://v2.grommet.io/textinput?theme=hpe#reverse) property.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/site/src/examples/components/search/SearchIconPositionExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  height={{ min: 'small' }}
  width="medium"
>
  <SearchIconPositionExample />
</Example>
