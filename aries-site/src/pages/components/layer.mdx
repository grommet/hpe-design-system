import { Example } from '../../layouts';
import {
  LayerExample,
  LayerCenterExample,
  LayerNotificationExample,
  LayerSideDrawerExample,
} from '../../examples';

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerExample.js"
  figma="https://www.figma.com/file/Ts53TAipMolmsv9DxWG3p0/HPE-Layer-Component?node-id=2%3A22"
>
  <LayerExample />
</Example>

## Guidance

Layer is used to define the properties and behaviors of an overlay for things like a modal dialog or notification. The content of the Layer is defined by the Box component.

### Create

- Define the container, content, location, and any animation, depending on the intent of the use case (like a notification or modal with a form).
- Use the [Box](/components/box) component to define the content of your layer.
- Ensure that any next steps for the user are provided to progress or close out of the layer.

### Best Practices

- Modal is best applied when you need to center attention on specific content, a task, or behavior and not allow interactivity with the underlying content.
- Position forms to the right (side-drawer).
- Position notifications top or bottom.
- Use a close control to guide users to move out of the layer. Provide an alternative to move out of the layer by allowing use of the 'esc' key or clicking off the container of the layer.
- Layer is not great for navigation as it 'hides' content. Maintain context for the user with layer.

### Using Headings in Layer

Layer headings should be semantically correct. Treat a Layer as if it were a stand alone page, with the exception that the first heading within a Layer should be an `h2` or `<Heading level={2} />`. All subsequent headings should follow typical [semantic heading structure](/foundation/typography#semantic-usage-of-heading-levels).

### Accessibility

When using a Layer with `modal={false}`, it is critical that the focus is moved to the "Close" button inside the Layer. This close button should also be given an `a11yTitle` that provides the user with context that they are in a Layer.

For example, implementation of this "Close" button for a Layer would be:

```
<Button 
  a11yTitle={`You are in a layer containing a form to add new hosts. 
  To close this layer, press Enter.`}
  icon={<FormClose />} 
  onClick={() => setShowLayer(false)}
  autoFocus
/>
```

## Variants

Depending on the use case of a Layer, the placement and layout of content may differ. Here are some common use cases and guidelines for various types of Layers.

### Side Drawer Modal

A Side Drawer layer is anchored to one side of the screen and acts as a modal. This means that while the layer is open, the rest of the page cannot be interacted with. When a layer contains a [Form](/templates/forms), it should be anchored to the right side of the screen.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerSideDrawerExample.js"
  height={{ min: 'small' }}
>
  <LayerSideDrawerExample />
</Example>

### Center Modal

A center modal is anchored at the center of the window and acts as a modal. This means that while the layer is open, the rest of the page cannot be interacted with. Center modals may be used to display information without leaving the current context.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerCenterExample.js"
  height={{ min: 'small' }}
>
  <LayerCenterExample />
</Example>
