import { BestPracticeGroup, Example } from '../../layouts';
import {
  ClearSearchExample,
  SearchExample,
  SearchIconPositionExample,
  SearchPlaceholder,
  SearchSimpleExample,
  SearchSuggestionsExample,
} from '../../examples';

<Example
  componentName="TextInput"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/search/SearchExample.js"
  designer="https://designer.grommet.io/search?id=HPE-design-system-hpedesignsystem-hpe-com&mode=edit"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  figma="https://www.figma.com/design/5uOrsL2qk8XwwH8C1ZpDb6/HPE-Design-System-Components?m=auto&node-id=417-9849&t=dNAWkldzvBKPSCeU-1"
  grommetSource="https://github.com/grommet/grommet/blob/master/src/js/components/TextInput/TextInput.js"
  width="medium"
>
  <SearchExample />
</Example>

## Guidance

Search inputs provide a powerful means for users to access content quickly and efficiently.

Many search best practices extend "behind the scenes," such as how query strings are matched to relevant content and to the efficiency in which that information is retrieved.

### Placeholder

Placeholder text should be brief and to the point.

<BestPracticeGroup>
  <Example
    height="small"
    bestPractice={{
      type: 'do',
      message: 'Make the placeholder text concise.',
    }}
  >
    <SearchPlaceholder />
  </Example>
  <Example
    height="small"
    bestPractice={{
      type: 'dont',
      message: `Avoid lengthly placeholder text that overflows.`,
    }}
  >
    <SearchPlaceholder bestPractice={false} />
  </Example>
</BestPracticeGroup>

### Auto-suggestions

- Provide effective [auto-suggestions](#search-with-auto-suggestions) whenever possible.
- Auto suggestions accelerate search and allow users to focus on task completion.

### Returning search results

- Use "live filtering." When results are visible and quick to filter, results should be filtered as the user types.
- Sort results by highest relevance. Relevance can be determined by keyword matching, however, to really elevate user experience, consider implementing probability based approaches.
- Persist users' original query. This eliminates the need to re-type and assists query reformation if needed.
- Persist users' recently used search queries. Remembering the user's previous efforts respects their time and serves as "short cuts" for returning to previously visited content.

### Accessibility

Search inputs should be accessible. Ensure users have the ability to return results using their keyboard or by clicking a button.

All search inputs should specify `type="search"`.

Use an `aria-label` in addition to a placeholder unless a visual label is provided.

For additional detail, see [ARIA form hints](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/forms/Basic_form_hints).

## Search icon

### Placement

The search icon may be placed either to the right or left of the input field. Icon position is controlled via the [reverse](#icon-position) property.

Place the icon in the position that most helps people to scan the page and identify the search field. Working as a visual aid, the intention should be for the search icon to be seen first and the placeholder text second. When deciding where to place the icon, consider where the search bar is located and how the user might be scanning the page (for example, in an F shape pattern from left to right).

### Interactivity

The search icon is not interactive. The search may be submitted either "onChange" as the user types, "onEnter", or in some cases by clicking on an accompanying button.

## Clear search control

When an input has `type="search"`, many browsers will insert a native "clear" control inside the input that allows the user to clear the entire search string.

The styling of this "clear" control is controlled by each browser, so it may differ visually from HPE brand colors and icons.

Click into the search input to see the "clear" control.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/search/ClearSearchExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  width="medium"
  height="auto"
>
  <ClearSearchExample />
</Example>

## Variants

Visual and functional extensions for Search.

### Search with auto suggestions

Suggestions provide users instantaneous feedback as they type, and aid by prompting with common search intents most closely matching the query in progress. Helpful matching functions include root word recognition and predictive text.

Suggested queries should be sorted from highest probability match to lowest. Limit the number of suggested queries displayed to five or less.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/search/SearchSuggestionsExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  height={{ min: 'small' }}
  width="medium"
>
  <SearchSuggestionsExample />
</Example>

### Simple search

Use simple search when its input field is desired to blend with its surrounding content, such as when used in a [Header](/components/header).

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/search/SearchSimpleExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  height={{ min: 'small' }}
  width="medium"
>
  <SearchSimpleExample />
</Example>

### Icon position

Icon position is controlled via the [reverse](https://v2.grommet.io/textinput?theme=hpe#reverse) property.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/search/SearchIconPositionExample.js"
  docs="https://v2.grommet.io/textinput?theme=hpe#props"
  height={{ min: 'small' }}
  width="medium"
>
  <SearchIconPositionExample />
</Example>
