import { Notification } from 'grommet';
import { Example } from '../../../layouts';
import {
  ConfigurationForm,
  SideDrawerLayerAnatomy,
  FilteringTable,
  LayerStickyExample,
  LayerStickyScrollExample,
} from '../../../examples';

## Anatomy

This diagram highlights details specific to side drawer layers. See [general layer anatomy](/components/layer#anatomy) for specifications applying to all layers.

<Example plain>
  <SideDrawerLayerAnatomy />
</Example>

| Label | Region                   | Required?                                  | Purpose                                                           | Notes                                                                                                                             |
| ----- | ------------------------ | ------------------------------------------ | ----------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| **1** | **Close button**         | Required on layers with no footer actions. | Closes the layer.                                                 | --                                                                                                                                |
| **2** | **Footer actions**       | Required on actionable layers.             | Provides actions for user to accept layer consequences or cancel. | The actions should be left-aligned with primary action on the left. One action should be a "Cancel" button that closes the layer. |
| **3** | **Right edge of window** | --                                         | --                                                                | The layer should be anchored to the right edge of the window and fill the height.                                                 |

See [layer closing behavior](/components/layer#layer-closing-behavior) for details.

<Notification
  status="info"
  message="A layer should either have actions in the footer or a close button in the header, not both."
  width="large"
  margin={{ bottom: 'medium' }}
/>

### Grommet properties

Apply these [layer properties](https://v2.grommet.io/layer#props) for a side drawer layer.

| Property                                         | Value    |
| ------------------------------------------------ | -------- |
| [position](https://v2.grommet.io/layer#position) | right    |
| [full](https://v2.grommet.io/layer#full)         | vertical |

## Header behavior

The default behavior of the layer header is to scroll with the layer content.

However, actionable layers should have a sticky header that is either persistent or appears when the user scrolls up.

### Persistent sticky header

The Layer header and action buttons can be sticky while the rest of the Layer content is scrollable. This can be accomblished by wrapping a Form within a Box with `overflow` set to `auto`.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerStickyExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/MonitorFormExample.js',
  ]}
  height={{ min: 'small' }}
>
  <LayerStickyExample />
</Example>

### Scroll up sticky header

In order to maximize screen real-estate when content is scrollable, the header may scroll away as the user scrolls down but reappear as the user scrolls up. This can be accomblished by using the `sticky` prop
on Heading and setting it to `"scrollup"`.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerStickyScrollExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/MonitorFormExample.js',
  ]}
  height={{ min: 'small' }}
>
  <LayerStickyScrollExample />
</Example>

## Examples

### Configuration form

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/ConfigurationForm.js"
  height={{ min: 'small' }}
  template
  showResponsiveControls={[]}
>
  <ConfigurationForm />
</Example>

### Filtering

Click the filter icon to see the layer.

<Example template showResponsiveControls={[]}>
  <FilteringTable />
</Example>
