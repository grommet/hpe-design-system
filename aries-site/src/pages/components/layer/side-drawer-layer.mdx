import { Notification } from 'grommet';
import { Example } from '../../../layouts';
import {
  ConfigurationForm,
  SideDrawerLayerAnatomy,
  FilteringTable,
  LayerStickyExample,
  LayerStickyScrollExample,
} from '../../../examples';

## Anatomy

See [general layer anatomy](/components/layer#anatomy) for specifications applying to all layers.

### Grommet properties

Apply these [layer properties](https://v2.grommet.io/layer#props) for a side drawer layer.

| Property                                         | Value    |
| ------------------------------------------------ | -------- |
| [position](https://v2.grommet.io/layer#position) | right    |
| [full](https://v2.grommet.io/layer#full)         | vertical |

## Layer closing behavior

### Informational

For informational side drawer layers that do not require any user actions, place a close button in the layer header.

<Example plain>
  <SideDrawerLayerAnatomy informational />
</Example>

| Label | Region           | Purpose           | Required? | Notes                 |
| ----- | ---------------- | ----------------- | --------- | --------------------- |
| **1** | **Close button** | Closes the layer. | required  | Use "FormClose" icon. |

The user should be able to close the informational layer by clicking on the close button, clicking outside, the layer, or using the Escape key.

### Actionable

For actionable layers, include the close button in the header and a "Cancel" button alongside footer actions so the user can efficiently leave the layer if desired.

When a user has input or edited any data in the layer, show a double confirmation before closing the layer. See [double confirmation guidance](/components/layer#avoid-losing-users-work) for more details and examples.

<Example plain>
  <SideDrawerLayerAnatomy />
</Example>

| Label | Region            | Purpose           | Required? | Notes                                                                                                                                                                                                                                  |
| ----- | ----------------- | ----------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1** | **Close button**  | Closes the layer. | required  | Including the close button in the header in addition to the footer "Cancel" button ensures the user can efficiently exit the layer if desired.                                                                                         |
| **2** | **Cancel button** | Closes the layer. | required  | The footer actions should be left aligned with primary action on the left and "Cancel" button following. The "Cancel" button should always be present as a complement to the primary action, providing an easy way to leave the layer. |

## Overflow behavior

The default behavior of the layer is to allow all of the content to scroll, but this behavior can be modified depending on the layer's contents.

| Layer contents            | Sticky region                                                                                         | Scroll region   | Notes                                                                                                                            |
| ------------------------- | ----------------------------------------------------------------------------------------------------- | --------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| **Filters**               | Footer                                                                                                | Header and body | A sticky footer ensures the user always has access to apply, reset, or cancel out of the filter view and return to the data set. |
| **Form**                  | None or header can be sticky/appear on scroll up if this added context is valueable for the use case. | Body and footer | The footer actions should be at the bottom of the form to encourage the user to see the entire form before submission.           |
| **Informational content** | TBD                                                                                                   | TBD             | TBD                                                                                                                              |

### Sticky header

If it would be valuable for the user to maintain the context of the layer's topic, the header can be made persistent or reappear when the user scrolls up.

#### Persistent

If it's necessary for the user to always be able to see the layer heading, make the heading persistent and sticky.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerStickyExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/MonitorFormExample.js',
  ]}
  height={{ min: 'small' }}
>
  <LayerStickyExample />
</Example>

#### Scroll up

In order to maximize screen real-estate when content is scrollable, the header may scroll away as the user scrolls down but reappear as the user scrolls up. This can be accomplished by applying `sticky="scrollup"` on Heading.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerStickyScrollExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/MonitorFormExample.js',
  ]}
  height={{ min: 'small' }}
>
  <LayerStickyScrollExample />
</Example>

## Examples

### Configuration form

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/ConfigurationForm.js"
  height={{ min: 'small' }}
  template
  showResponsiveControls={[]}
>
  <ConfigurationForm />
</Example>

### Filtering

Click the filter icon to see the layer. Notice the sticky footer on this layer. Refer to [overflow behavior](/components/layer#overflow-behavior) for added guidance.

<Example template showResponsiveControls={[]}>
  <FilteringTable />
</Example>
