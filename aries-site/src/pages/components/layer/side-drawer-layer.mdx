import { Notification } from 'grommet';
import { Example } from '../../../layouts';
import {
  ConfigurationForm,
  SideDrawerLayerAnatomy,
  FilteringTable,
  LayerStickyExample,
  LayerStickyScrollExample,
} from '../../../examples';

## Anatomy

See [general layer anatomy](/components/layer#anatomy) for specifications applying to all layers.

### Grommet properties

Apply these [layer properties](https://v2.grommet.io/layer#props) for a side drawer layer.

| Property                                         | Value    |
| ------------------------------------------------ | -------- |
| [position](https://v2.grommet.io/layer#position) | right    |
| [full](https://v2.grommet.io/layer#full)         | vertical |

## Layer closing behavior

### Informational

For informational side drawer layers that do not require any user actions, place a close button in the layer header.

<Example plain>
  <SideDrawerLayerAnatomy informational />
</Example>

| Label | Region           | Purpose           | Required? | Notes                 |
| ----- | ---------------- | ----------------- | --------- | --------------------- |
| **1** | **Close button** | Closes the layer. | required  | Use "FormClose" icon. |

The user should be able to close the informational layer by clicking on the close button, clicking outside, the layer, or using the Escape key.

### Actionable

For actionable layers, include the close button in the header and a "Cancel" button alongside footer actions.

When a user has input or edited any data in the layer, show a double confirmation before closing the layer. See [double confirmation guidance](/components/layer#avoid-losing-users-work) for more details and examples.

<Example plain>
  <SideDrawerLayerAnatomy />
</Example>

| Label | Region            | Purpose           | Required? | Notes                                                                                                                                                                                                                                  |
| ----- | ----------------- | ----------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1** | **Close button**  | Closes the layer. | required  | Including the close button in the header in addition to the footer "Cancel" button ensures the user can efficiently exit the layer if desired.                                                                                         |
| **2** | **Cancel button** | Closes the layer. | required  | The footer actions should be left aligned with primary action on the left and "Cancel" button following. The "Cancel" button should always be present as a complement to the primary action, providing an easy way to leave the layer. |

## Header behavior

The default behavior of the layer header is to scroll with the layer content.

However, actionable layers should have a sticky header that is either persistent or appears when the user scrolls up.

### Persistent sticky header

The Layer header and action buttons can be sticky while the rest of the Layer content is scrollable. This can be accomblished by wrapping a Form within a Box with `overflow` set to `auto`.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerStickyExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/MonitorFormExample.js',
  ]}
  height={{ min: 'small' }}
>
  <LayerStickyExample />
</Example>

### Scroll up sticky header

In order to maximize screen real-estate when content is scrollable, the header may scroll away as the user scrolls down but reappear as the user scrolls up. This can be accomblished by using the `sticky` prop
on Heading and setting it to `"scrollup"`.

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/LayerStickyScrollExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/MonitorFormExample.js',
  ]}
  height={{ min: 'small' }}
>
  <LayerStickyScrollExample />
</Example>

## Examples

### Configuration form

<Example
  docs="https://v2.grommet.io/layer?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/layer/ConfigurationForm.js"
  height={{ min: 'small' }}
  template
  showResponsiveControls={[]}
>
  <ConfigurationForm />
</Example>

### Filtering

Click the filter icon to see the layer. Notice the sticky footer on this layer. Refer to [overflow behavior](/components/layer#overflow-behavior) for added guidance.

<Example template showResponsiveControls={[]}>
  <FilteringTable />
</Example>
