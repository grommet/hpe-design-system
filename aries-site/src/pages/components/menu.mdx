import { Box } from 'grommet';
import { Checkmark } from '@hpe-design/icons-grommet';
import { AccessibilitySection, BestPracticeGroup, Example } from '../../layouts';
import {
  MenuAnatomy,
  MenuExample,
  MenuBatchActionsExample,
  MenuDangerousExample,
  MenuDisabledExample,
  MenuGroupingExample,
  MenuHeaderExample,
  MenuIconExample,
  MenuRecordActionsExample,
  ToolbarButtonExample,
} from '../../examples';

<Example
  componentName="Menu"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/menu/MenuExample.js"
  designer="https://designer.grommet.io/menu?id=HPE-design-system-hpedesignsystem-hpe-com&mode=edit"
  docs="https://v2.grommet.io/menu?theme=hpe#props"
  figma="https://www.figma.com/design/HDckqS2MWhINfC8EIQPMV1/HPE-Design-System-Components-V2?m=auto&node-id=2475-2000&t=ZqPsisuevR3KPp96-1"
  grommetSource="https://github.com/grommet/grommet/blob/master/src/js/components/Menu/Menu.js"
>
  <MenuExample />
</Example>

## Use Cases

### Presenting application-level navigation and tasks
Use Menu within the header to organize and present application-level navigation or related user tasks in a single, easily accessible location.

<Example
  docs="https://v2.grommet.io/menu?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/menu/MenuHeaderExample.js"
  height={{ min: 'small' }}
  width="100%"
>
  <MenuHeaderExample />
</Example>

### Grouping batch actions for data sets
Use Menu within a toolbar to present batch actions for data collection objects or records alongside other controls, ensuring equal prominence and visual alignment. Apply kind="toolbar" in these cases. 
In this example, actions are grouped into executing and configuration categories, with executing actions first because they are most frequently used. For more details on grouping and ordering, see [Organizing menu items](#organizing-menu-items).

<Example
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/menu/MenuBatchActionsExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/FilterControls/FilterControls.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/data/mockData/servers.json',
  ]}
  github="https://github.com/grommet/hpe-design-system/blob/master/aries-site/src/examples/components/menu/MenuBatchActionsExample.js"
  height={{ min: 'small' }}
>
  <MenuBatchActionsExample />
</Example>

### Grouping item-specific actions
Use a menu within each list item when you need to provide actions for an individual object or record. 
When space is limited and actions are easily recognized by their icon, use the icon-only version of the menu. 
In this example, actions are grouped into configuration, executing, and dangerous categories, with configuration first and delete last. 
For more details on grouping and ordering, see [Organizing menu items](#organizing-menu-items).

<Example
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/menu/MenuRecordActionsExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/data/mockData/serverGroups.json',
  ]}
  github="https://github.com/grommet/hpe-design-system/blob/master/aries-site/src/examples/components/menu/MenuRecordActionsExample.js"
  height={{ min: 'medium' }}
>
  <MenuRecordActionsExample />
</Example>

## Anatomy

<Example
  caption="Diagram illustrating the parts composing Menu."
  plain
>
  <MenuAnatomy />
</Example>

| Label | Region              | Purpose                                                                            | Required                                                 | Notes                                                                                                                                      |
| :---: | ------------------- | ---------------------------------------------------------------------------------- | :------------------------------------------------------: | ------------------------------------------------------------------------------------------------------------------------------------------ |
| **1** | **Menu Button**     | Opens the menu when clicked.                                                       | <span><Checkmark a11yTitle="true" size="small" /></span> | Can include a label, icon, or both.                                                                                                        |
| **1a** | **Button label**   | Describes the menu's function or the category of actions.                          | Optional                                                 | --                                                                                                                                         |
| **1b** | **Button icon**    | Provides a visual cue that the menu can be opened or closed.                       | Optional                                                 | Typically an arrow or chevron to indicate expand/collapse. For icon-only menus, the icon represents the menu's purpose or the type of actions (e.g., settings gear, overflow dots). |
| **2** | **Drop container**  | Holds and displays the list of menu items when the menu is expanded.               | <span><Checkmark a11yTitle="true" size="small" /></span> | --                                                                                                                                         |
| **3** | **Menu item**       | Represents an individual action within the menu.                                   | <span><Checkmark a11yTitle="true" size="small" /></span> | <span>Items should be organized logically (see [Organizing menu items](#organizing-menu-items)).</span>        |
| **3a** | **Item label**     | Communicates the specific action to the user.                                      | <span><Checkmark a11yTitle="true" size="small" /></span> | --                                                                                                                                         |
| **3b** | **Item icon**      | Provides a quick visual reference for the action.                                  | Optional                                                 | --                                                                                                                                         |
| **4** | **Divider**         | Separates groups of related actions.                                               | Optional                                                 | --                                                                                                                                         |

## Types

### Default
A standard dropdown menu that displays a clear, text-based list of actions when triggered.

[Placeholder space for the example]

### Icon only 
A compact menu represented by an icon, such as “more” or “settings”, ideal for space-constrained layouts where actions are easily recognized visually.

[Placeholder space for the example]

### Toolbar
A menu styled to integrate seamlessly with a toolbar.

[Placeholder space for the example]

## Organizing menu items

Help users quickly locate the desired menu item by applying thoughtful ordering and grouping:

- Group related items together for easier scanning. Use a divider to separate groups.
- Prioritize frequently used actions by placing them at the top.
- Place destructive actions last in a distinct, consistent location to ensure intentionality.

### Common groupings in HPE applications
In many HPE applications, customers configure, modify, and act upon resources in their environment. For these contexts, menu items typically fall into three groups:

#### Configuring

Actions allowing a user to set and modify attributes of a resource.

- View [resource] details
- Edit [resource]
- Add [item] to [resource]
- Remove [item] from [resource]
- Assign [resource] to [another resource]
- Add [resource] to group

#### Executing

Actions providing the ability for a user to act upon a resource.

- Launch [resource]
- Power on/off [resource]
- Reset [resource]
- Update/upgrade software/firmware version for [resource]

#### Transferring

Actions enabling a user to share or consume data related to a resource.

- Download [resource] data
- Share [resource] with [user]
- Send [resource] to [user]
- Notify [user] about [resource]

## Dos and Do nots

[Placeholder for select DO AND DONT]
[Placeholder for divider DO AND DONT]
[Placeholder for too many items DO AND DONT]

<BestPracticeGroup>
  <Example
    bestPractice={{
      type: 'do',
      message:
        'Leave actions in a single group when there is only 1 menu item in each category.',
    }}
  >
    {/* Box allows menu to be presented with drop open, overriding Example align/justify center */}
    <Box height="xsmall">
      <MenuGroupingExample />
    </Box>
  </Example>
  <Example
    bestPractice={{
      type: 'dont',
      message: `Don't add a separator between groups when there is only 1 menu item in 
      each category. A single dangerous actions is the exception and should be placed 
      in a distinct group.`,
    }}
  >
    {/* Box allows menu to be presented with drop open, overriding Example align/justify center */}
    <Box height="xsmall">
      <MenuGroupingExample bestPractice={false} />
    </Box>
  </Example>
</BestPracticeGroup>

<BestPracticeGroup>
  <Example
    bestPractice={{
      type: 'do',
      message:
        'Always separate a dangerous action into its own group and place it at the end. Clicking on a dangerous action should lead to a double confirmation.',
    }}
  >
    {/* Box allows menu to be presented with drop open, overriding Example align/justify center */}
    <Box height="small">
      <MenuDangerousExample />
    </Box>
  </Example>
  <Example
    bestPractice={{
      type: 'dont',
      message: `Don't leave dangerous actions grouped with other actions. Don't apply the dangerous action without double confirmation.`,
    }}
  >
    {/* Box allows menu to be presented with drop open, overriding Example align/justify center */}
    <Box height="small">
      <MenuDangerousExample bestPractice={false} />
    </Box>
  </Example>
</BestPracticeGroup>

## Content guidelines
- Give the menu a clear title. Instead of labeling the menu as "Menu", provide a name that conveys its purpose. For example, a label of "Account information" would be appropriate if the menu items associated were actions such as "Change username" or "Reset password".
- Keep labels short. Using a simple, concise label for menu items, such as "Settings" or "Logout", helps the user easily understand the action that will be performed when they click.

## Accessibility

Accessibility features such as screen reader messages are automatically built into Menu. By default, these messages are "Open Menu" and "Close Menu". However, if a more specific message is necessary, a custom [a11yTitle](https://v2.grommet.io/menu?theme=hpe#a11yTitle) or [messages](https://v2.grommet.io/menu?theme=hpe#messages) may be applied.

An icon may be used on the menu button to provide additional context about the action. It is recommended that an icon is used in conjunction with text to ensure the context of the menu button is clear. However, there may be cases where an icon alone is sufficient. For example, highly familiar action indicators, such as this example of [Menu with custom icon](#with-custom-icon) demonstrate when an icon only may be sufficient.

### WCAG compliance
  <AccessibilitySection title='menu' />
