import { useContext } from 'react';
import { Box, Grid, ResponsiveContext, Text } from 'grommet';
import { ContentPreviewCard } from '../../components';
import {
  HeaderOnlyExample,
  HeaderFooterExample,
  SidebarHeaderExample,
  SidebarHeaderFooterExample,
  StickyHeaderExample,
  SidebarHeaderFooterPreview,
  SidebarHeaderPreview,
  HeaderFooterPreview,
  StickyHeaderPreview,
  HeaderOnlyPreview,
} from '../../examples';
import { Example } from '../../layouts';
import { nameToSlug } from '../../utils';

Here are some common layouts to get you started:

<LayoutPreviewGrid />

## Guidance

The when, how, and why to use page layouts.

### About Page Layouts

Choosing a page layout is an important first step in designing an application or website. Use of these layouts will help to maintain consistency across your design. They also provide visual guidance for how your design behaves at different screen sizes.

**Common use cases include:**

- Creating a dashboard with global navigation
- Providing a dialog for viewing or updating something
- Displaying a page in a website

**Components used within a Page Layout:**

Page Layouts are built using the [Header](/components/header) and [Main](/components/main) components, with optional [Sidebar](/extend/global-sidebar) and [Footer](/components/footer) components. For guidance on page layout content, refer to the HPE Design System website pages for the components that make up your Page Layout.

### Usage

Page Layouts provide the basic structure for a variety of page types.

- Page-level vertical scrolling is supported, but horizontal scrolling is not (and should be avoided, when possible).
- Can be used with various [Navigation](/templates/navigation) patterns.
- Are designed to be responsive, and thus behave well, regardless of the screen size they are displayed on.

### Responsiveness

Examples are included for different screen sizes â€“ Desktop, Laptop and Mobile.

Page content can expand to a max-width of 1440px and after that it stays centered. Specifically, the sidebar, main, footer, and header are constrained to stay centered, with equal margins on both sides. This behavior is demonstrated visually when a user clicks on a Desktop example.

### Accessibility

The screen reader reads page content in the order it is specified. Refer to the code examples to see the order in which Page Layout components are specified. Since Sidebar is typically used for global navigation, it is always specified first in Page Layout, when it is included.

Specify page layout content so that it is understandable by the screen reader too. This should make the page easier to visually read as well.

## Variants

Examples of common page layouts.

### Sidebar, header, and footer

On desktop, the sidebar is fixed to the left side while header, main, and footer are a scrollable region. On mobile, the sidebar is fixed to the bottom of the screen.

The border around page sections is for demonstration purposes only. Remove border in production.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/SidebarHeaderFooterExample.js"
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  relevantComponents={['Footer', 'Global Sidebar', 'Header', 'Main']}
  width="100%"
  screenContainer
>
  <SidebarHeaderFooterExample />
</Example>

### Sidebar and header

On desktop, the sidebar is fixed to the left side while header and main are a scrollable region. On mobile, the sidebar is fixed to the bottom of the screen.

The border around page sections is for demonstration purposes only. Remove border in production.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/SidebarHeaderExample.js"
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6568"
  relevantComponents={['Global Sidebar', 'Header', 'Main']}
  width="100%"
  screenContainer
>
  <SidebarHeaderExample />
</Example>

### Header and footer

On both desktop and mobile, all content scrolls.

The border around page sections is for demonstration purposes only. Remove border in production.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/HeaderFooterExample.js"
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6545"
  relevantComponents={['Header', 'Footer', 'Main']}
  width="100%"
  screenContainer
>
  <HeaderFooterExample />
</Example>

### Sticky header

On both desktop and mobile, header is fixed to the top of the screen while main and footer are a scrollable region.

The border around page sections is for demonstration purposes only. Remove border in production.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/StickyHeaderExample.js"
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6540"
  relevantComponents={['Header', 'Footer', 'Main']}
  width="100%"
  screenContainer
>
  <StickyHeaderExample />
</Example>

### Header only

On both desktop and mobile, all content scrolls.

The border around page sections is for demonstration purposes only. Remove border in production.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/HeaderOnlyExample.js"
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6572"
  relevantComponents={['Header', 'Main']}
  width="100%"
  screenContainer
>
  <HeaderOnlyExample />
</Example>

export const layouts = [
  {
    name: 'Sidebar, header, and footer',
    preview: <SidebarHeaderFooterPreview />,
  },
  {
    name: 'Sidebar and header',
    preview: <SidebarHeaderPreview />,
  },
  {
    name: 'Header and footer',
    preview: <HeaderFooterPreview />,
  },
  {
    name: 'Sticky Header',
    preview: <StickyHeaderPreview />,
  },
  {
    name: 'Header only',
    preview: <HeaderOnlyPreview />,
  },
];

export const LayoutPreviewGrid = () => {
  const size = useContext(ResponsiveContext);
  return (
    <Grid
      columns={size !== 'small' ? 'medium' : '100%'}
      rows={[['auto', 'full']]}
      gap="medium"
      justify="center"
      fill
    >
      {layouts.map(layout => (
        <ContentPreviewCard
          forwardedAs="a"
          style={{ textDecoration: 'none' }}
          href={`#${nameToSlug(layout.name)}`}
        >
          <Box height="small" width="100%" round="xsmall">
            {layout.preview}
          </Box>
          <Text weight="bold" size="large" margin={{ top: 'small' }}>
            {layout.name}
          </Text>
        </ContentPreviewCard>
      ))}
    </Grid>
  );
};
