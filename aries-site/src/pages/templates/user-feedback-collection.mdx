import { FeedbackAnatomy, SimpleFeedbackExample, SolicitedFeedbackExample } from '../../examples';
import { Example } from '../../layouts';
import { Checkmark } from 'grommet-icons';

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/feedback/SimpleFeedbackExample.js"
  docs="https://v2.grommet.io/starrating?theme=hpe"
>
  <SimpleFeedbackExample />
</Example>

### When to use
Consider using in app feedback collection for the following use cases:
- Any location where customer insights can help us to improve our experiences.
- To gather data to assist in advocating for changes to the user experience.
- To evaluate the effectiveness of content.

### When not to use
Don’t collect feedback in the following use cases:
- If it disrupts a user flow or is intrusive in any way.
- There is no actionable plan for what to do with the data.
- In locations where users do not have enough context to form a valid opinion. 
- There are too many implementations of user feedback collection, as not to dilute their effectiveness.

### Anatomy
<Example plain>
  <FeedbackAnatomy />
</Example>

| Label  | Region       | Purpose                                                              |                  Required                   | Notes                                                                                                      |
| ------ | ------------ | -------------------------------------------------------------------- | :-----------------------------------------: | ---------------------------------------------------------------------------------------------------------- |
| **1**  | **Title**    | Title prompting user for their feedback.            | <Checkmark a11yTitle="true" size="small" /> | "We'd love your feedback" is a nice, appreciative default title.       |
| **2**  | **Body**     | The body may be populated as many questions as appropriate.          | <Checkmark a11yTitle="true" size="small" /> |  Question types can include starRating, thumbsRating, select all that apply (i.e checkbox group), choose one (i.e RadioButtonGroup), open ended (i.e textarea) |                                                             
| **3**  | **Footer **  | Contains two actions: "Submit" and "Cancel"                          | <Checkmark a11yTitle="true" size="small" /> |  Submit button sends data to Qualtrics and initiates thank you message. Cancel button is optional for modal use cases. |

### Connecting to Qualtrics
To iniate user feedback collection, please contact doris.singer@hpe.com for the following steps:

1. Doris will set up the survey in Qualtrics.
2. Doris will submit a TEST resposnse for developers to have to use for testing againts api.
3. The dev uses the [Retrieve a Survey Response call](https://api.qualtrics.com/1179a68b7183c-retrieve-a-survey-response) (Survey ID, API Token, and the Response ID required) to pull in the metadata/schema for the test submission. This response is almost identical to what needs to be submitted.
4. Dev uses [Create a New Response](https://api.qualtrics.com/f1cad92018d2b-create-a-new-response) call to send in data.

View in code examples to see example of `post` call that will send the data to Qualtrics.

## Examples

### Solicited Feedback
Solicited feedback is a flow in which we are interupting the user at the end of a task flow for feedback on the task they just completed. 

Click on "Power 1 Device" to see the progressive example of the feedback questions. 
<Example
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/content-layouts/ContentDrivenLayout.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/ModalDialog/ModalDialog.js',
  ]}
  github="https://github.com/grommet/hpe-design-system/blob/master/aries-site/src/examples/templates/content-layouts/ContentDrivenLayout.js"
  showResponsiveControls={['fullScreen']}
  screenContainer
  height="650px"
  width="100%"
>
  <SolicitedFeedbackExample />
</Example>


### UnSolicited Feedback
Unsolicited feedback example would be where a user is provided a mechanism (like a “suggestions box”) to ask questions, make recommendations etc.
