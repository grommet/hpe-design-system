import { Example } from '../../layouts';
import {
  PopoverAnatomy,
  PopoverSimpleExample,
  PopoverInlineExample,
} from '../../examples';

<Example
  figma="https://www.figma.com/design/5uOrsL2qk8XwwH8C1ZpDb6/HPE-Design-System-Components?m=auto&node-id=36369-2087&t=DQC2q9WBqfsNEi8I-1"
  width="100%"
  code='https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/popover/PopoverSimpleExample.js'
>
  <PopoverSimpleExample />
</Example>

## Use cases
### Providing inline contextual help

Contextual help, such as a term's definition or feature explanation, may be provided in a popover. In this case, an [icon-only button](cross-link to icon-only button example) is used to indicated that additional help or information is available and serves as the trigger opening the popup.

<Example
  figma="https://www.figma.com/design/5uOrsL2qk8XwwH8C1ZpDb6/HPE-Design-System-Components?node-id=34141-2"
  width="100%"
  code='https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/popover/PopoverInlineExample.js'
>
  <PopoverInlineExample />
</Example>

## Anatomy

<Example caption="Diagram illustrating the 4 parts of a Popover which include an optional title, required close button, required body content, and an optional footer." plain>
  <PopoverAnatomy />
</Example>

| Label | Region        | Purpose                              | Required | Notes                                      |
| :---: | ------------- | ------------------------------------ | :------: | ------------------------------------------ |
| **1** | **Title**     | Identifies the popover.               | Optional |                                            |
| **2** | **Close button** | Closes the popover.                | Required |  Closed by mouse-click and/or keyboard. A popover also closes by any clicks outside of the popover. |
| **3** | **Body**      | Provides contextual information.      | Required | May include non-text elements.             |
| **4** | **Footer**    | Contains additional actions.          | Optional | May include anchors.                       |


## Content guidelines

Popovers should be:
- Relevant: Content should relate to its trigger.
- Non-crucial: Contents should not include crucial information or actions required to complete a task.
- Short: It should be concise to avoid overwhelming the user and taking up excessive screen space. Follow [voice and tone](https://design-system.hpe.design/foundation/voice-and-tone) guidelines for writing effective content.

Recommended practices:
- Use `Paragraph/Small` and `Anchor/Small` to save space.
- Avoid using titles if they do not provide additional context.
- Use `Text` for the title instead of a heading.

## Accessibility

Ensure accessibility by including an `a11yTitle` on:
- Triggers without labels, such as icon-only buttons.
- The Close button, describing the Popover's contents.

Add `aria-haspopup` as well as `aria-controls` on:
- The trigger in which opens the popover.
   - `aria-haspopup` tells users that there is a pop-up associated with the element.
   - `aria-controls` gives users more detailed information about which specific element will be affected when they interact with the element that has `aria-haspopup`.

| Key   | Interaction                                                                                                      |
| ----- | ---------------------------------------------------------------------------------------------------------------- |
| **Tab** | Highlights interactive elements. Focus remains within the Popover until it is closed. Once exited, focus returns to the trigger. |
| **Esc** | Exits the Popover at any time.                                                                                   |
