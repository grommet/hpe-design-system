import { Box, Image } from 'grommet';
import { Example } from '../../layouts';
import { ButtonSizingExample } from '../../examples';

## Summary

- Named size tokens (e.g. `small`, `medium`) replace raw pixel values.
- The system governs both component dimensions and spacing (padding, gap, margin, border, radius).
- The scale derives from two base units: 24px (original) and 16px (supplemental in v7).
- The token `medium` remains consistent across v6 and v7.
- Larger values can be composed from smaller ones (e.g. `xsmall` + `xsmall` = `medium`).
- Omitting an explicit `size` prop yields the default `medium` for most components.
- Reliance on ad‑hoc pixel values is discouraged in favor of existing standardized tokens.

## Definition

T‑shirt sizing is a tokenized scale employing semantic names such as `small`, `medium`, and `large` in place of raw pixel values. Each token corresponds to a defined pixel value and governs:

- Component dimensions (width, height, or `size` props)
- Spacing concerns (gap, margin, padding, border, radius)

Adherence to the standardized tokens promotes consistency; introduction of arbitrary pixel values should be avoided when an existing token suffices.

## Benefits

Benefits include:

- Establishment of a shared vocabulary (semantic tokens versus arbitrary pixel counts)
- Accelerated layout specification through reuse of predefined values
- Built-in responsive adaptation via theme breakpoints
- Consistency and maintainability achieved through systematic reuse

Example: a padding token of `large` may resolve to a smaller token at compact breakpoints without manual intervention.

## v6 vs v7

### v7 scale
The v7 scale introduces supplementary intermediate steps derived from a dual base: 24px (primary) and 16px (secondary). This approach increases granularity while preserving legacy alignment.

Highlights:
- Expanded set of intermediary tokens enables finer layout calibration.
- Token `medium` retains its prior value for backward compatibility.
- Former 1152px `xlarge` removed; `xxlarge` (1024px) recommended where applicable.
- Composite relationships maintained (e.g. `xsmall` + `xsmall` = `medium`).

Pixel progression (ascending):
1, 2, 3, 4, 6, 8, 12, 16, 24, 32, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024, 1536, 2048.

Tables below enumerate renamed and added values.

### Container sizes

| **v6 and below** | **v7**    | **Value** | **Notes**                                 |
| ---------------- | --------- | --------- | ----------------------------------------- |
| `xxsmall`        | `5xsmall` | 48px      | Renamed for consistency                   |
| --               | `4xsmall` | 64px      | New intermediate size                     |
| `xsmall`         | `3xsmall` | 96px      | Renamed for consistency                   |
| --               | `xxsmall` | 128px     | New intermediate size                     |
| `small`          | `xsmall`  | 192px     | Renamed for consistency                   |
| --               | `small`   | 256px     | New intermediate size                     |
| `medium`         | `medium`  | 384px     | **Unchanged**                             |
| --               | `large`   | 512px     | New intermediate size                     |
| `large`          | `xlarge`  | 768px     | Renamed for consistency                   |
| --               | `xxlarge` | 1024px    | New intermediate size                     |
| `xlarge`         | --        | 1152px    | Value eliminated (doesn't follow formula) |
| `xxlarge`        | `3xlarge` | 1536px    | Renamed for consistency                   |

### Spacing sizes

| **v6 and below** | **v7**    | **Value** | **Notes**               |
| ---------------- | --------- | --------- | ----------------------- |
| `hair`           | `hair`    | 1px       | Unchanged               |
| `xxsmall`        | `5xsmall` | 3px       | Renamed for consistency |
| --               | `4xsmall` | 4px       | New intermediate size   |
| `xsmall`         | `3xsmall` | 6px       | Renamed for consistency |
| --               | `xxsmall` | 8px       | New intermediate size   |
| `small`          | `xsmall`  | 12px      | Renamed for consistency |
| --               | `small`   | 16px      | New intermediate size   |
| `medium`         | `medium`  | 24px      | **Unchanged**           |
| --               | `large`   | 32px      | New intermediate size   |
| `large`          | `xlarge`  | 48px      | Renamed for consistency |
| --               | `xxlarge` | 64px      | New intermediate size   |
| `xlarge`         | `3xlarge` | 96px      | Renamed for consistency |

### Border sizes

| **v6 and below** | **v7**    | **Value** | **Notes**             |
| ---------------- | --------- | --------- | --------------------- |
| --               | `none`    | 0px       | New                   |
| `xsmall`         | `xsmall`  | 1px       | Unchanged             |
| `small`          | `small`   | 2px       | Unchanged             |
| `medium`         | `medium`  | 4px       | Unchanged             |
| --               | `large`   | 6px       | New intermediate size |
| `large`          | --        | 12px      | Eliminated            |
| `xlarge`         | --        | 24px      | Eliminated            |
| --               | `default` | 1px       | New default value     |

### Radius sizes

| **v6 and below** | **v7**    | **Value** | **Notes**                                 |
| ---------------- | --------- | --------- | ----------------------------------------- |
| `none`           | `none`    | 0px       | Unchanged                                 |
| `hair`           | `hair`    | 1px       | Unchanged                                 |
| `xxsmall`        | --        | 3px       | Eliminated                                |
| --               | `xxsmall` | 4px       | New                                       |
| `xsmall`         | `xsmall`  | 6px       | Unchanged                                 |
| --               | `small`   | 8px       | New intermediate size                     |
| `small`          | `medium`  | 12px      | Renamed for consistency                   |
| --               | `large`   | 16px      | New intermediate size                     |
| `medium`         | `xlarge`  | 24px      | Renamed for consistency                   |
| --               | `xxlarge` | 32px      | New intermediate size                     |
| `large`          | --        | 48px      | Eliminated                                |
| --               | --        | 64px      | Eliminated                                |
| `xlarge`         | --        | 96px      | Eliminated                                |
| `full`           | `full`    | 9999px    | Unchanged (creates fully rounded corners) |

### v6 legacy scale
Earlier versions employed a single 24px scalar base. Excerpt from original `base.js` theme values:

```
// base.js in Grommet

xxsmall: `${baseSpacing * 2}px`, // 48px
xsmall: `${baseSpacing * 4}px`, // 96px
small: `${baseSpacing * 8}px`, // 192px
medium: `${baseSpacing * 16}px`, // 384px
large: `${baseSpacing * 32}px`, // 768px
xlarge: `${baseSpacing * 48}px`, // 1152px
xxlarge: `${baseSpacing * 64}px`, // 1536px
full: '100%',
```

## Component dimensions

T‑shirt size tokens define component dimensions. Prop usage varies by component type:

- `width` / `height`: structural components such as [Box](/components/box)
- `size`: content or element-level components such as [Avatar](https://v2.grommet.io/avatar?theme=hpe), [Text](/foundation/typography#text), [DataTable](/components/datatable)
- Grid layout: row and column sizing in [Grid](/components/grid)

Prop support is documented within the official [Grommet component reference](https://v2.grommet.io/).

Example below demonstrates three distinct heights with a constant width:

```
<Box width="medium" height="xsmall" />
// width = 384px, height = 192px

<Box width="medium" height="medium" />
// width = 384px, height = 384px

<Box width="medium" height="xlarge" />
// width = 384px, height = 768px
```

<Box width="xlarge">
  <Image src="/box-sizing.png" alt="Demonstration of t-shirt sizing on Box" />
</Box>

## Spacing & styles

Tokens also govern spacing concerns: padding, margin, gap, border thickness, and corner radius.

Resolution to pixel values occurs automatically via theme mapping against the 24px and 16px bases.

Attributes such as `pad`, `gap`, and `margin` leverage the `edgeSize` scale defined in the tables above.

The example below shows `xlarge` padding resolved to 48px:

```
<Box
    width="medium"
    height="xsmall"
    pad="xlarge"
/>
```

<Box width="medium" margin={{ bottom: 'large' }}>
  <Image
    src="/edge-sizing.png"
    alt="Demonstration of t-shirt sizing for pad on Box"
  />
</Box>


The following snippet produces a Box with width 384px, height 192px, and a 2px border.

```
<Box
    border={{ color: 'border', size: 'small' }}
    width="medium"
    height="xsmall"
/>
```

<Box width="medium" margin={{ bottom: 'xlarge' }}>
  <Image
    src="/border-sizing.png"
    alt="Demonstration of t-shirt sizing for border on Box"
  />
</Box>

### Composability

The v7 scale maintains additive and divisional consistency; sums or partitions of smaller tokens align precisely with larger counterparts.

```
// Container sizes maintain doubling relationships at key intervals:
xsmall (192px) + xsmall (192px) = medium (384px)
medium (384px) + medium (384px) = xlarge (768px)

// New intermediate sizes fill gaps:
small (256px) = medium (384px) - xxsmall (128px)
large (512px) = medium (384px) + xxsmall (128px)

// Spacing sizes follow similar mathematical relationships:
xsmall (12px) + xsmall (12px) = medium (24px)
medium (24px) + medium (24px) = xlarge (48px)
```

Intermediate tokens address previous gaps where `medium` and `large` formed an overly broad jump.

### Composition visualization

The beauty of the Dual Doubling scale is its mathematical precision, allowing sizes to compose and decompose in predictable ways. The visualization below demonstrates how different t-shirt sizes relate to each other:

<Box width="xlarge" margin={{ bottom: 'large' }}>
  <Image
    src="/tshirt-composition.png"
    alt="Visual demonstration of t-shirt size composition showing how smaller sizes combine to create larger ones"
  />
</Box>

Summary:
- Smaller tokens compose larger tokens.
- Mathematical relationships remain predictable.
- Consistent mixing sustains visual rhythm.

### Default size

Components exposing a `size` prop default to `medium` when unspecified.

In the button example below, "Default" and `size="medium"` produce equivalent rendering:

```
<Button label="Default" primary />
<Button size="medium" label="Medium" primary />
```

Omitting the `size` prop when `medium` is appropriate reduces verbosity without altering appearance.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/button/ButtonSizingExample.js"
  height={{ min: 'xsmall' }}
>
  <ButtonSizingExample />
</Example>
