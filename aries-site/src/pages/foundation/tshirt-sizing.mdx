import { Box, Image } from 'grommet';
import { Example } from '../../layouts';
import { ButtonSizingExample } from '../../examples';

## What is t-shirt sizing?

T-shirt sizing is the way that Grommet leverages familiar clothing sizes of "small", "medium", "large", and other ranges of sizes to drive the sizing and spacing of components. Grommet maps these t-shirt sizes to specific pixel values. The mapping and pixel value derivation is [explained below](/foundation/tshirt-sizing#the-base-unit).

T-shirt sizing controls two aspects of a user interface:

- the [height and width](/foundation/tshirt-sizing#t-shirt-sizing-for-component-dimensions) of layout components.
- the [spacing](/foundation/tshirt-sizing#t-shirt-sizing-for-spacing-and-other-styles) within and around components (e.g. gap, margin, padding, border, etc.).

When designing and developing with the HPE Design System, you should always use t-shirt sizes. If you find yourself specifying custom pixel values, this should be a warning signaling either:

- A need to consult with your designer about why a custom value is needed.
- Something in the implementation can and should be simplified.
- Or, there could be a gap in the Design System which should be reported and addressed.

In nearly every case, designs and development should be using t-shirt sizes for compatibility and maintenance.

## Why do we use t-shirt sizing?

T-shirt sizing delivers a more unified experience for HPE customers by creating consistent user interfaces across pages and across applications.

There are also benefits of t-shirt sizing for designers and developers!

T-shirt sizing creates a common language between designers and developers, as well as provides common, well-defined intervals which make designing and developing more efficient.
Using pixel values, percentages, or other sizing methods to create layouts can result in applications that are less composable and less scalable. Instead, a container of content may just have a width of "medium", for example, and Grommet will take care of the rest.

Finally, t-shirt sizes enable content to responsively scale more easily and consistently. For example, a layout's padding may be set to "large" on desktop screen and gracefully adjust to "small" on mobile devices with minimal effort.

## The dual doubling scale (HPE theme v7 and above)

With the introduction of HPE theme v7, the t-shirt sizing scale has been significantly expanded using a "Dual Doubling" approach to provide more granular sizing options. This new scale addresses gaps in the previous scale and offers greater design flexibility.

**Key highlights of the Dual Doubling scale:**

- **Introduces in-between steps** which address gaps in the current scale, making desired design layouts easier to execute.
- **Has parity with existing scale** which means that all designs may be recreated with the new scale without any layout shifts. The only exception is container `xlarge` (1152px), which does not have a direct equivalent. We recommend using `xxlarge` (1024px) instead.
- **New `medium` = v6 and below `medium`**; however, rest of t-shirt sizes will need to be mapped to achieve design parity.
- **Every t-shirt size may be composed** by smaller t-shirt sizes and/or divided into halves, thirds, quarters, ... 12ths, etc. (e.g. `small` + `small` = `large`, or `xsmall` + `xsmall` + `xsmall` = `large`, or even `medium` + `xsmall` = `large`).
- **Scale consists of a primary scale** based on the doubling of a 24px base unit (same as v6 and below) plus a supplementary scale doubling a 16px base unit.

**Results in the following pixel progression:**
1, 2, 3, 4, 6, 8, 12, 16, 24, 32, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024, 1536, 2048.

Below are the sizing values from the [HPE theme v7](https://github.com/grommet/grommet-theme-hpe/blob/master/CHANGELOG.md#700) and above which implements this expanded scale:

### Container sizes comparison (width, height, size, columns, rows)

| **v6 and below** | **v7**    | **Value** | **Notes**                                 |
| ---------------- | --------- | --------- | ----------------------------------------- |
| `xxsmall`        | `5xsmall` | 48px      | Renamed for consistency                   |
| --               | `4xsmall` | 64px      | New intermediate size                     |
| `xsmall`         | `3xsmall` | 96px      | Renamed for consistency                   |
| --               | `xxsmall` | 128px     | New intermediate size                     |
| `small`          | `xsmall`  | 192px     | Renamed for consistency                   |
| --               | `small`   | 256px     | New intermediate size                     |
| `medium`         | `medium`  | 384px     | **Unchanged**                             |
| --               | `large`   | 512px     | New intermediate size                     |
| `large`          | `xlarge`  | 768px     | Renamed for consistency                   |
| --               | `xxlarge` | 1024px    | New intermediate size                     |
| `xlarge`         | --        | 1152px    | Value eliminated (doesn't follow formula) |
| `xxlarge`        | `3xlarge` | 1536px    | Renamed for consistency                   |

### Spacing sizes comparison (pad, margin, gap, thickness)

| **v6 and below** | **v7**    | **Value** | **Notes**               |
| ---------------- | --------- | --------- | ----------------------- |
| `hair`           | `hair`    | 1px       | Unchanged               |
| `xxsmall`        | `5xsmall` | 3px       | Renamed for consistency |
| --               | `4xsmall` | 4px       | New intermediate size   |
| `xsmall`         | `3xsmall` | 6px       | Renamed for consistency |
| --               | `xxsmall` | 8px       | New intermediate size   |
| `small`          | `xsmall`  | 12px      | Renamed for consistency |
| --               | `small`   | 16px      | New intermediate size   |
| `medium`         | `medium`  | 24px      | **Unchanged**           |
| --               | `large`   | 32px      | New intermediate size   |
| `large`          | `xlarge`  | 48px      | Renamed for consistency |
| --               | `xxlarge` | 64px      | New intermediate size   |
| `xlarge`         | `3xlarge` | 96px      | Renamed for consistency |

## Original scale (HPE theme v6 and below)

In order to create the range of sizes and their corresponding pixel values, a base unit of 24px is used as a scalar.

Below is the original sizing scale from Grommet's [`base.js`](https://github.com/grommet/grommet/blob/master/src/js/themes/base.js) theme file that was used in HPE theme v6 and below versions to drive the height/width for components such as [Box](https://design-system.hpe.design/components/box). The `base.js` theme establishes many of the defaults leveraged across Grommet applications.

```
// base.js in Grommet

xxsmall: `${baseSpacing * 2}px`, // 48px
xsmall: `${baseSpacing * 4}px`, // 96px
small: `${baseSpacing * 8}px`, // 192px
medium: `${baseSpacing * 16}px`, // 384px
large: `${baseSpacing * 32}px`, // 768px
xlarge: `${baseSpacing * 48}px`, // 1152px
xxlarge: `${baseSpacing * 64}px`, // 1536px
full: '100%',
```

## T-shirt sizing for component dimensions

One of the main ways t-shirt sizing is used is to control the width/height of a component. For some components, like [Box](/components/box), this can be controlled with the `width` and `height` props. For other components, like [Avatar](https://v2.grommet.io/avatar?theme=hpe), [DataTable](/components/datatable), or [Text](/foundation/typography#text), the dimensions are controlled by the `size` prop. And others, like [Grid](/components/grid), t-shirt sizes specify `row` and `column` dimensions.

The [Grommet site](https://v2.grommet.io/) provides documentation on the props available to any given component. If you're unsure if a component supports `width`, `height`, or `size`, that would be the right place to check.

Given the [Container sizes comparison](#container-sizes-comparison-width-height-size-columns-rows) table the following code would render 3 boxes

- The first Box has a width of 384px and height of 192px.
- The second Box has a width of 384px and height of 384px.
- The third Box has a width of 384px and height of 768px.

```
<Box width="medium" height="xsmall" />
// width = 384px, height = 192px

<Box width="medium" height="medium" />
// width = 384px, height = 384px

<Box width="medium" height="xlarge" />
// width = 384px, height = 768px
```

<Box width="xlarge">
  <Image src="/box-sizing.png" alt="Demonstration of t-shirt sizing on Box" />
</Box>

## T-shirt sizing for spacing and other styles

In addition to overall component dimensions, t-shirt sizing can also be used to define spacing and other styling such as pad, gap, margin, and border.

To create the pixel values for these styles, Grommet divides and/or multiplies the base unit of `24px` by various integers. The HPE theme v7 introduces additional scale doubling of 16px base unit to achieve intermediate sizes for more precise spacing control.

`pad`, `gap`, and `margin` are controlled by `edgeSize` which now includes the expanded scale shown in the spacing sizes section above.

Given this code snippet, if you were to implement the following code, you would have a Box with width of 384px, height of 192px, and pad of 48px.

```
<Box
    width="medium"
    height="xsmall"
    pad="xlarge"
/>
```

<Box width="medium" margin={{ bottom: 'large' }}>
  <Image
    src="/edge-sizing.png"
    alt="Demonstration of t-shirt sizing for pad on Box"
  />
</Box>

### Border sizes comparison

Border sizing is controlled by `borderSize`.

| **v6 and below** | **v7**    | **Value** | **Notes**             |
| ---------------- | --------- | --------- | --------------------- |
| --               | `none`    | 0px       | New                   |
| `xsmall`         | `xsmall`  | 1px       | Unchanged             |
| `small`          | `small`   | 2px       | Unchanged             |
| `medium`         | `medium`  | 4px       | Unchanged             |
| --               | `large`   | 6px       | New intermediate size |
| `large`          | --        | 12px      | Eliminated            |
| `xlarge`         | --        | 24px      | Eliminated            |
| --               | `default` | 1px       | New default value     |

### Radius sizes comparison (round)

Radius sizing is controlled by `round` and is used for border-radius properties.

| **v6 and below** | **v7**    | **Value** | **Notes**                                 |
| ---------------- | --------- | --------- | ----------------------------------------- |
| `none`           | `none`    | 0px       | Unchanged                                 |
| `hair`           | `hair`    | 1px       | Unchanged                                 |
| `xxsmall`        | --        | 3px       | Eliminated                                |
| --               | `xxsmall` | 4px       | New                                       |
| `xsmall`         | `xsmall`  | 6px       | Unchanged                                 |
| --               | `small`   | 8px       | New intermediate size                     |
| `small`          | `medium`  | 12px      | Renamed for consistency                   |
| --               | `large`   | 16px      | New intermediate size                     |
| `medium`         | `xlarge`  | 24px      | Renamed for consistency                   |
| --               | `xxlarge` | 32px      | New intermediate size                     |
| `large`          | --        | 48px      | Eliminated                                |
| --               | --        | 64px      | Eliminated                                |
| `xlarge`         | --        | 96px      | Eliminated                                |
| `full`           | `full`    | 9999px    | Unchanged (creates fully rounded corners) |

Given this code snippet, if you were to implement the following code, you would have a Box with width of 384px, height of 192px, and a border with a width of 2px.

```
<Box
    border={{ color: 'border', size: 'small' }}
    width="medium"
    height="xsmall"
/>
```

<Box width="medium" margin={{ bottom: 'xlarge' }}>
  <Image
    src="/border-sizing.png"
    alt="Demonstration of t-shirt sizing for border on Box"
  />
</Box>

### Composability and scaling between t-shirt sizes

With the expanded v7 scale, sizes are designed to create a unified, harmonious experience with mathematically precise relationships. The new scale allows for more granular control while maintaining consistent proportional relationships.

The expanded scale enables flexible composition where sizes can be combined and divided:

```
// Container sizes maintain doubling relationships at key intervals:
xsmall (192px) + xsmall (192px) = medium (384px)
medium (384px) + medium (384px) = xlarge (768px)

// New intermediate sizes fill gaps:
small (256px) = medium (384px) - xxsmall (128px)
large (512px) = medium (384px) + xxsmall (128px)

// Spacing sizes follow similar mathematical relationships:
xsmall (12px) + xsmall (12px) = medium (24px)
medium (24px) + medium (24px) = xlarge (48px)
```

This expanded scale addresses the common scenario where "medium" was too small and "large" was too big, providing a size that fits "just right."

### T-shirt size composition visualization

The beauty of the Dual Doubling scale is its mathematical precision, allowing sizes to compose and decompose in predictable ways. The visualization below demonstrates how different t-shirt sizes relate to each other:

<Box width="xlarge" margin={{ bottom: 'large' }}>
  <Image
    src="/tshirt-composition.png"
    alt="Visual demonstration of t-shirt size composition showing how smaller sizes combine to create larger ones"
  />
</Box>

As shown in the composition above:

- Multiple smaller sizes can combine to create larger sizes.
- Each size maintains mathematical precision within the Dual Doubling scale.
- For example: `xsmall` (192px) + `xsmall` (192px) = `medium` (384px).
- Or: `small` (256px) + `xxsmall` (128px) = `medium` (384px).
- This mathematical relationship enables predictable scaling and consistent proportions.
- Designers and developers can confidently mix and match sizes knowing they will harmonize.

### Default `size` of "medium"

For components that support a `size` prop, the default size is `medium`. This means that if you do not specify your own `size`, the component will render with the styling that corresponds with "medium" size.

Notice in this example of Button sizes how the "Default" button is the same size as the "Medium" button. In the code, you'll see:

```
<Button label="Default" primary />
<Button size="medium" label="Medium" primary />
```

Because `medium` is the default size, you can simplify your code by implementing a component without the `size` prop when `medium` is the desired size.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/button/ButtonSizingExample.js"
  height={{ min: 'xsmall' }}
>
  <ButtonSizingExample />
</Example>
