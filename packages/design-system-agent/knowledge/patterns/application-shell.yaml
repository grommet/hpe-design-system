id: application-shell
name: Application Shell
aliases:
- app shell
- sidebar layout
- navigation shell
description: Full-page application layout with navigation, header, main content area,
  and optional context pane. Responsive design with mobile-first approach.
problem: Need a consistent application structure that works across all screen sizes
  with navigation, header utilities, and contextual panels.
solution: Use Grid with named areas for layout structure. Place a NavigationMenu
  pattern in the nav sidebar slot — do not build ad-hoc Anchor-based navigation.
  Navigation sidebar collapses to a Layer on mobile. Header contains branding and
  context controls. Main content area uses rounded corners. Optional context pane
  slides in from the right for help, user preferences, or AI assistance.
relatedComponents:
- grid
- box
- heading
- button
- nav
relatedPatterns:
- navigation-menu
usage:
  whenToUse:
  - Use the NavigationMenu pattern for the nav sidebar slot — do not build ad-hoc
    Anchor-based navigation.
  - Use Grid with named areas for predictable responsive behavior.
  - 'Use semantic HTML elements: aside for navigation, Header for app header, Main
    for content.'
  - Use ResponsiveContext to adapt layout for mobile breakpoints.
  - Use background='background-front' for navigation and context panes, background='background-back'
    for main content.
  - Round the top corners of Main content for visual polish.
  - Implement navigation as a Layer on mobile with proper focus management.
  - Use context pane for non-modal, secondary content like help or settings.
  whenToAvoid:
  - Do not use fixed widths for navigation - use 'auto' to allow natural sizing.
  - Do not render navigation and context pane simultaneously on mobile.
  - Avoid complex nested Grid layouts - keep the shell simple.
  - Do not forget focus management when opening/closing Layers and context panes.
examples:
- description: Complete Application Shell with Navigation
  codeFile: design-system/examples/application-shell/complete-application-shell-with-navigation.tsx
- description: Mobile-Responsive Navigation with Layer
  codeFile: design-system/examples/application-shell/mobile-responsive-navigation-with-layer.tsx
- description: Context Pane with Help/Settings
  codeFile: design-system/examples/application-shell/context-pane-with-help-settings.tsx
templateCodeFile: design-system/examples/application-shell/template.tsx

# Adjacency list — agent-traversable counterpart to templateCode.
# Coexists with templateCode; never replaces it.
graph:
  rootId: grid-root
  nodes:
    # ── Root layout grid ────────────────────────────────────────────────────────
    - id: grid-root
      componentId: grid
      role: application shell grid
      props:
        columns: ["auto", "flex", "auto"]
        rows: ["auto", "flex"]
        height: "100%"
        areas:
          default: [["nav","header","header"],["nav","main","context-pane"]]
          small: [["nav","header","header"],["main","main","context-pane"]]
      children: [box-nav, header, main, box-context-pane]
      binding: context
      notes: >
        Grid areas and columns adapt to breakpoint via ResponsiveContext.
        On small screens the nav row spans full-width and the context pane
        is hidden by collapsing the nav column.

    # ── Navigation sidebar ───────────────────────────────────────────────────────
    - id: box-nav
      componentId: box
      role: navigation sidebar
      props:
        gridArea: "nav"
        as: "aside"
        background: "background-front"
      children: [slot-nav-menu]
      binding: static

    - id: slot-nav-menu
      componentId: nav
      role: navigation menu slot
      props: {}
      children: []
      binding: slot
      notes: >-
        Use the NavigationMenu pattern here. Pass items, activeItem, onSelect,
        and an optional header slot for branding. Do not inline Anchor-based nav.

    # ── Application header ───────────────────────────────────────────────────────
    - id: header
      componentId: header
      role: application header
      props:
        gridArea: "header"
        heightMin: "5xsmall"
        padHorizontal: "medium"
        padVertical: "3xsmall"
      children: [btn-brand, slot-header-controls]
      binding: static

    - id: btn-brand
      componentId: button
      role: brand button
      props:
        plain: true
      children: [text-brand]
      binding: static

    - id: text-brand
      componentId: text
      role: brand label
      props:
        content: "HPE Design System"
        boldPrefix: "HPE"
      children: []
      binding: static

    - id: slot-header-controls
      componentId: box
      role: header controls slot
      props:
        direction: row
      children: []
      binding: slot
      notes: >
        Consumer-provided utility controls — user menu, notifications,
        account switcher, or AI assistant trigger.

    # ── Main content area ────────────────────────────────────────────────────────
    - id: main
      componentId: main
      role: main content area
      props:
        gridArea: "main"
        background: "background-back"
        roundCorner: "top"
        roundSize: "small"
      children: [slot-main-content]
      binding: static
      notes: >
        Top-right corner un-rounds to top-left when the context pane is closed,
        creating a seamless edge with the context pane opening.

    - id: slot-main-content
      componentId: box
      role: main content slot
      props: {}
      children: []
      binding: slot
      notes: Consumer-provided page content — Page + PageContent + PageHeader recommended.

    # ── Optional context pane ────────────────────────────────────────────────────
    - id: box-context-pane
      componentId: box
      role: context pane
      props:
        gridArea: "context-pane"
        as: "aside"
        background: "background-front"
        widthMin: "small"
      children: [slot-context-content]
      binding: state
      notes: >
        Conditionally rendered when contextContent is provided.
        Use for non-modal secondary content: help, AI assistance, user settings.
        Hide on mobile — Layer is the mobile equivalent.

    - id: slot-context-content
      componentId: box
      role: context pane content slot
      props: {}
      children: []
      binding: slot
      notes: Consumer-provided context panel content.
