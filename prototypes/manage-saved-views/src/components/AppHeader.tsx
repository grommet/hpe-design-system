import React from "react";
import { Avatar, Box, Button, Header, Nav, Text, GrommetProps, BoxProps, Image } from "grommet";
import { Moon, Sun, User } from "grommet-icons";
import { ButtonGroup } from "../components";

export const AppHeader = ({
  name,
  themeMode: themeModeProp,
  animation,
  ...rest
}: {
  name: string;
  themeMode: {
    themeMode: GrommetProps["themeMode"];
    setThemeMode: React.Dispatch<
      React.SetStateAction<GrommetProps["themeMode"]>
    >;
  };
  animation: BoxProps["animation"];
}) => {
  const { themeMode, setThemeMode } = themeModeProp;

  return (
    <Header
      background="background-front"
      pad={{ horizontal: "large", vertical: "small" }}
      sticky="scrollup"
      animation={animation}
      {...rest}
    >
      <Box direction="row" gap="xsmall">
        <Image
          alt="Acme Cloud logo"
          src="data:image/svg+xml,%3csvg width='23' height='24' viewBox='0 0 23 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M9.39147 23.5504C8.35809 23.0084 7.73119 22.5364 6.56387 21.9198C6.22443 21.7406 6.12996 21.5945 6.2863 21.2108C6.95599 19.5738 7.56883 17.9157 8.23016 16.2754C8.37312 15.9209 8.3146 15.7327 7.95843 15.6004C7.8046 15.5429 7.66999 15.439 7.52033 15.3701C6.76035 15.0196 6.1425 14.554 5.99953 13.6543C5.15677 15.817 4.31402 17.9806 3.45788 20.1773C2.63352 19.7076 1.85013 19.3004 1.11021 18.8283C0.349387 18.3424 0.00241907 17.6082 0.001583 16.7272C-0.000925199 13.6016 -8.91323e-05 10.4768 0.001583 7.35117C0.001583 6.33471 0.455567 5.56486 1.36186 5.05623C4.13426 3.4995 6.91001 1.94926 9.6824 0.392535C10.6196 -0.133945 11.5468 -0.129078 12.4824 0.396592C15.2305 1.93953 17.9804 3.48084 20.7319 5.0181C21.6825 5.54945 22.1582 6.32984 22.1482 7.40309C22.1348 8.81785 22.1457 10.2318 22.144 11.6466C22.144 11.7885 22.1281 11.9297 22.1181 12.0936C21.9208 12.0936 21.7694 12.0936 21.6181 12.0936C17.1493 12.0936 12.6797 12.0936 8.21093 12.096C7.99104 12.096 7.76279 12.096 7.55127 12.1479C6.96602 12.2899 6.53628 12.7782 6.47358 13.3518C6.40168 14.0113 6.67173 14.4964 7.27202 14.8209C9.69495 16.1294 12.1145 17.4443 14.5358 18.7561C14.754 18.8745 14.9689 18.9978 15.1912 19.1065C15.8325 19.4172 16.6151 19.298 17.1627 18.8121C17.6719 18.3602 17.7772 17.8386 17.5021 17.1215C17.4102 16.8822 17.3257 16.6396 17.2246 16.4036C16.845 15.5145 15.9897 14.9985 15.004 15.1089C14.6963 15.1429 14.4028 15.3003 14.0408 15.422C14.2189 15.6272 14.3167 15.7408 14.4145 15.8535L14.3719 15.899C13.3803 15.3611 12.3888 14.8233 11.4499 14.3147C12.1321 14.4055 12.8503 14.5743 13.5701 14.5832C16.2623 14.6156 18.9552 14.6051 21.6474 14.5872C22.0562 14.5848 22.1758 14.7024 22.1507 15.0878C22.1172 15.598 22.1323 16.1115 22.1448 16.6226C22.1724 17.7299 21.6649 18.5192 20.6809 19.0611C19.0656 19.9518 17.4754 20.8855 15.8492 21.7576C14.3744 22.5477 12.7867 23.4345 12.3268 23.6721C11.3859 24.1583 10.4248 24.0924 9.39147 23.5504ZM15.3869 11.7253C15.3284 11.5508 15.2983 11.4486 15.2598 11.3497C14.5483 9.51307 13.8385 7.67566 13.122 5.84149C12.7583 4.91021 12.0259 4.39671 11.0853 4.39347C10.128 4.39022 9.40232 4.90453 9.02693 5.86745C8.24771 7.86548 7.47268 9.86595 6.69681 11.8656C6.655 11.9743 6.62073 12.0863 6.57223 12.2274C7.00868 11.7253 7.83163 11.7236 8.56124 11.7236C8.95001 11.7236 9.33878 11.7399 9.72588 11.7139C9.89311 11.7139 10.0202 11.6084 10.0603 11.5095C10.5202 10.3754 10.985 9.54308 10.7434 8.41387C10.73 8.35302 10.7417 8.2865 10.7417 8.22242C10.832 8.30273 10.8738 8.39521 10.9106 8.49012C11.2927 9.47088 11.6672 10.4541 12.0635 11.4292C12.112 11.5492 12.2124 11.7139 12.4431 11.7123C13.4255 11.7342 14.3468 11.7253 15.3869 11.7253Z' fill='%23FC6161'/%3e %3c/svg%3e"
        />
        <Text color="text-strong">
          <Text weight="bold">{name}</Text>
        </Text>
      </Box>
      <Box flex />
      <Nav direction="row" gap="small">
        <Button label="Home" href="/" size="small" />
        <Button label="About" href="/about" size="small" />
        <Button label="Contact" href="/contact" size="small" />
      </Nav>
      <Box flex />
      <ButtonGroup>
        <Button
          icon={themeMode === "dark" ? <Moon /> : <Sun />}
          tip={
            themeMode === "dark"
              ? "Switch to light mode"
              : "Switch to dark mode"
          }
          onClick={() => {
            themeMode === "dark" ? setThemeMode("light") : setThemeMode("dark");
          }}
        />
        <Avatar
          background="background-contrast"
          size="36px"
        // src="https://avatars.githubusercontent.com/u/1756948?v=4"
        >
          <User />
        </Avatar>
      </ButtonGroup>
    </Header>
  );
};
