import {
  AccessibilitySection,
  BestPracticeGroup,
  Example,
} from '../../layouts';
import {
  ButtonBadCancelPreview,
  ButtonBadGroupPreview,
  ButtonBadSignUpPreview,
  ButtonBadgeExample,
  ButtonBusyExample,
  ButtonBusySimpleExample,
  ButtonAlignmentTable,
  ButtonExample,
  ButtonGoodCancelPreview,
  ButtonGoodLongTitlePreview,
  ButtonGoodSignUpPreview,
  ButtonIconExample,
  ButtonLeftAlignExample,
  ButtonPlayground,
  ButtonRightAlignExample,
  ButtonStatesExample,
  ButtonSizingExample,
  DefaultButtonExample,
  PrimaryButtonExample,
  SecondaryButtonExample,
  ToolbarButtonExample,
} from '../../examples';

<ButtonPlayground />

<Example
  componentName="Button"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/DefaultButtonExample.js"
  designer="https://designer.grommet.io/button?id=HPE-design-system-hpedesignsystem-hpe-com&mode=edit"
  docs="https://v2.grommet.io/button?theme=hpe#props"
  figma="https://www.figma.com/design/HDckqS2MWhINfC8EIQPMV1/HPE-Design-System-Components-V2?m=auto&node-id=2133-616&t=ZqPsisuevR3KPp96-1"
  grommetSource="https://github.com/grommet/grommet/blob/master/src/js/components/Button/Button.js"
>
  <ButtonExample />
</Example>

## Guidance

The when, how, and why to use buttons.

### About Button

Buttons should be used in situations where users might need to:

- Submit a form
- Begin a new task
- Trigger a new UI element to appear on the page
- Specify a new or next step in a process

### Button labeling

Using the design system Button Component will ensure your button looks like a button and is in line with HPE designs. Ensure to apply an appropriate label so the user has a clear understanding of what action to expect.

- Use clear and concise wording.
- Avoid contractions or colloquialisms. Keep the language approachable but not personal, for examples, see [point of view](https://design-system.hpe.design/foundation/voice-and-tone?q=tone#point-of-view).
- Ensure your button label matches the route destination.

#### When to use "Add", "Create" and "New"

| Label      | Purpose                                                                                                                                                                                                   | Example                                                                                                                             |
| ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| **Add**    | "Add" is used when an object already exists. It builds an association between that object and another object or set of objects.                                                                           | When editing a device group, use "Add device" to add an existing device to the group.                                               |
| **New**    | "New" opens a template, or blank canvas, of a given object type to allow for user input. The object will not be added as a record in a database until a "Create" or submission action has been completed. | When starting the configuration process for a new device, use "New device" to initiate the process.                                 |
| **Create** | "Create" is typically used for form submission, to submit user input and create an instance of an object.                                                                                                 | After completing inputs related to configuring a new device, use "Create device" to submit the data and create the object instance. |

### Button alignment

Buttons are unique components since their alignment depends on where they appear (drawers, modals, etc.). Buttons should always be where the user most expects it. In general, follow this guide on how to align buttons in most use cases.

<ButtonAlignmentTable />

### Button ordering

Button types may be applied in various combinations, however they should always be ordered by order of importance and in relation to their alignment: Primary first, followed by Secondary, then by Default.

<Example previewWidth="xlarge" height="none" pad="xsmall" width="xlarge">
  <ButtonLeftAlignExample />
</Example>

<Example previewWidth="xlarge" height="none" pad="xsmall" width="xlarge">
  <ButtonRightAlignExample />
</Example>

### Buttons vs. anchors

The HTML elements for buttons and links (a.k.a. anchors) describe a very specific type of action that is going to be taken when they are used. It is important you know when to use which, as the distinction matters:

- Use a link when you’re navigating to another place, such as: a "view all" page, "Jane Chen" profile, a page "skip link" etc.
- Use buttons when you are performing an action, such as: "submit," "merge," "create new," "upload," etc.
- An action almost always occurs on the same page

### Cancel buttons

Cancel buttons enable users to exit out of or dismiss the current screen in order to go back to the previous one. Having an explicit way to cancel provides a fallback to safety as it helps discard any unwanted changes.

#### Styling

Cancel buttons should be presented in the default button styling. The neutral appearance signifies the non-committal action. Visually emphasizing the cancel button should be avoided to minimize user confusion.

<BestPracticeGroup>
  <Example
    bestPractice={{
      type: 'do',
      message:
        'Always use default button styling for cancel button, and keep it aligned in accordance with use case, following the hierarchy.',
    }}
  >
    <ButtonGoodCancelPreview />
  </Example>
  <Example
    bestPractice={{
      type: 'dont',
      message: `Don't use Secondary Button styling for Cancel button.`,
    }}
  >
    <ButtonBadCancelPreview />
  </Example>
</BestPracticeGroup>

### Toggle buttons

Toggle buttons are used either to switch between two states, such as checked and unchecked, or to trigger two actions like on or off.

#### Toggle buttons with icons

Icon buttons have an `a11yTitle`, `aria-label` or button `label` that describes the action that the user will be performing when using screen readers.

**Best Practices:**

- Limit to 2-3 descriptive words.
- Use verbs first to describe the action such as "Hide/View," "Switch/Unswitch," "Favorite/Unfavorite," "Light/Dark," or "Like/Dislike."
- Use sentence case capitalization.
- Words such as "the" and "a" should be avoided.

For buttons with icons ONLY, it is important that you show the two following elements:

1. Show the current state of the button through the use of an icon.

2. Inform the user of what will happen when the button is clicked by including `a11yTitle` or `aria-label`.

## Primary buttons

Primary buttons highlight actions on a page delivering the most benefit to users. They are helpful in enabling users’ goals, unlocking new value by enabling a new experience, capability, or creation of something which hadn’t previously existed.

Primary buttons have increased visual weight through placement and contrast, drawing users’ attention by distinguishing the button from surrounding content.

### When to use a primary action button

Primary action buttons are used within enterprise applications. They are meant to assist and are designed to maximize a user’s experience by highlighting the most common or important action on a page and allowing the user to accomplish a goal or task.

Actions supported by primary action buttons are numerous and may be constructive or destructive in nature. Example actions include: create, schedule, deploy, add, save, and depending on context could even be cancel or delete.

## Variants

There are a couple "flavors" of button depending on use case.

### Primary button

Used for the key action on the page, and should only appear once. All other supporting actions should use [Default button](#default-button). Consider that the 80% use case for some pages is visualization and not action. In cases like these, a secondary button can be used.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/PrimaryButtonExample.js"
  docs="https://v2.grommet.io/button?theme=hpe#props"
  height={{ min: 'small' }}
>
  <PrimaryButtonExample />
</Example>

### Secondary button

Secondary buttons are used to represent calls to action that are either in support of the primary call to action or stand-alone. There can be multiple secondary buttons per page. However, a [default button](#default-button) should be used for any navigation-type actions.

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/SecondaryButtonExample.js"
  docs="https://v2.grommet.io/button?theme=hpe#props"
  height={{ min: 'small' }}
>
  <SecondaryButtonExample />
</Example>

### Toolbar button

Toolbar buttons are used when buttons are placed in a row with other toolbar controls.

A common use case would be when creating a [filtering experience](/templates/filtering). In this situation, a search input, filter button, and action menu are presented as a unified set of controls. The intent is to present each control with equal prominence.

To implement, apply `kind="toolbar"` to [Button](/components/button) or Button-based components like [Menu](/components/menu).

<Example
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ToolbarButtonExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/templates/FilterControls/FilterControls.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/templates/FilterControls/Filters.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/templates/FilterControls/ResultsSummary.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/templates/FilterControls/SearchFilter.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/templates/FilterControls/FiltersContext.js',
  ]}
  github="https://github.com/grommet/hpe-design-system/blob/master/apps/docs/src/examples/components/button/ToolbarButtonExample.js"
  docs="https://v2.grommet.io/button?theme=hpe#props"
  height={{ min: 'small' }}
  width="100%"
>
  <ToolbarButtonExample />
</Example>

### Default button

This is the default appreance and behavior of button. The majority of buttons on your page should use this form of button. If you are designating a primary call to action, use a [primary button](#primary-button). If you are designating a secondary call to action, use a [secondary button](#secondary-button).

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/DefaultButtonExample.js"
  docs="https://v2.grommet.io/button?theme=hpe#props"
  height={{ min: 'small' }}
>
  <DefaultButtonExample />
</Example>

### Button with icon

Icons may be incorporated into buttons, either inline with text or as an icon only. When using icon only buttons, the dimension of the clickable area should be kept in mind for its use on mobile devices. Areas too small lead to errant clicks, and as result, poor experience.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ButtonIconExample.js"
  height={{ min: 'small' }}
>
  <ButtonIconExample />
</Example>

### Button with badge

The `badge` prop adds a small indicator to a Button to convey extra information, such as a notification or count. It can be used in different ways depending on what needs to be communicated:

- To indicate that something is new or needs attention, the badge can be set to true to display a simple dot.
- To show how many items there are — such as 3 new messages — a number can be passed, and the badge will display that value.
  - If the value exceeds the max, the badge will display a "+" next to the max (e.g., 9+) to keep the visual presentation clean and readable. By default the max is 9, but this can be adjusted based on what max value best suits the use case.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ButtonBadgeExample.js"
  height={{ min: 'small' }}
>
  <ButtonBadgeExample />
</Example>

### Button states

A button's visual state may be specified as appropriate in the application's context. For example, using "active" for the current item or "disabled" until a set of criteria are met. However, use of disabled controls is discouraged because it tends to elicit a "why?" response from users. It is better to leave buttons active and use messaging upon click to indicate that criteria have not been met. Buttons that do not apply (for reasons of context or permissions) should not be shown at all, rather than being shown as disabled.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ButtonStatesExample.js"
  height={{ min: 'small' }}
>
  <ButtonStatesExample />
</Example>

#### Busy button

The busy and success states of button can be used when an action may take a couple of seconds to complete or validate. A common example is when a form requires server side validation.

If the action will likely take longer than a few seconds to complete, allow the user to leave the form and do not use the busy button state. Instead, consider notifying them with another kind of notification when the task completes.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ButtonBusySimpleExample.js"
  height={{ min: 'small' }}
>
  <ButtonBusySimpleExample />
</Example>

<Example
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ButtonBusyExample.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-core/src/js/components/layouts/ButtonGroup/ButtonGroup.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-core/src/js/components/layouts/ModalDialog/ModalDialog.js',
  ]}
  screenContainer
  showResponsiveControls={[]}
  height="600px"
>
  <ButtonBusyExample />
</Example>

### Button sizes

Button label text size may be specified. Padding and rounding scale proportionately to the label size. The default size is medium.

<Example
  docs="https://v2.grommet.io/button?theme=hpe#props"
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/button/ButtonSizingExample.js"
  height={{ min: 'small' }}
>
  <ButtonSizingExample />
</Example>

## Responsiveness

Ensure you are always being mindful of our responsive page layouts when designing user experiences. Even if you don’t anticipate your users leveraging mobile or tablet devices, they may be reducing/expanding browser widths, zooming in on content, or manipulating the browser in unanticipated ways. As a best practice, always design for a usable UI on all browser widths and resolutions.

### Best practices

- Ensure the button label does not wrap, truncate, or alter the text content in any way when presented on smaller browser widths.
- Button label text should not scale down to fit on smaller browser widths.
- The minimum button width for any button should be 42px.

### Single buttons

On screen widths of less than or equal to 576px (Grommet "small"), it is best to have buttons fill the full width of the container. Because press target size and an unclear visual hierarchy are key concerns at smaller resolutions, this utilizes available space to ensure users can easily identify and interact with the buttons.

<BestPracticeGroup>
  <Example
    bestPractice={{
      type: 'do',
      message:
        'On small resolutions, full-width buttons help users more easily identify and interact with actions on smaller browser widths and when using the press gesture.',
    }}
  >
    <ButtonGoodSignUpPreview />
  </Example>
  <Example
    bestPractice={{
      type: 'dont',
      message:
        'On small resolutions, keeping button widths smaller lessen their visual impact and makes it more difficult for users to interact with them on smaller browser widths.',
    }}
  >
    <ButtonBadSignUpPreview />
  </Example>
</BestPracticeGroup>

### Button groups

For button groups on screen widths less than or equal to 576px (Grommet "small"), ensure each button within the group follows the established guidance for single buttons. If a button group is presented inline horizontally, rearrange the buttons vertically on smaller browser widths to ensure the proper full button widths can be achieved.

<BestPracticeGroup>
  <Example
    bestPractice={{
      type: 'do',
      message:
        'Reorder the button group vertically on smaller screens to ensure each individual button is given enough space to be easily read and actioned on.',
    }}
  >
    <ButtonGoodLongTitlePreview />
  </Example>
  <Example
    bestPractice={{
      type: 'dont',
      message:
        'Horizontal, inline button groups on smaller browser widths create opportunities for truncation, word wraps, and undersized press targets.',
    }}
  >
    <ButtonBadGroupPreview />
  </Example>
</BestPracticeGroup>

## Accessibility

### A11y guidance

The following guidance should be considered for each instance of the component and is the responsibility of the implementer. WCAG criteria provided directly by the Grommet component are summarized under [WCAG compliance](#wcag-compliance).

If pressing a Button results in a new URL, or the resultant UI makes sense as "a new browser tab," that is a link `<a>`. Everything else is a `<button>`.

The distinction is important to screen reader users to know what's going to happen next. Will I navigate somewhere or will something happen on the page? So it's important to choose the right HTML element for the job.

If using an `<a>` tag, see the [WCAG rules for the Anchor component](/components/anchor#wcag-compliance).

### WCAG compliance

<AccessibilitySection title="button" />
