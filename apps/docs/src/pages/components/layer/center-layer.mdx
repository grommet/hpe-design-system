import { Notification } from 'grommet';
import { Example } from '../../../layouts';
import {
  CenterInformational,
  CenterLayerAnatomy,
  ContentDrivenLayout,
} from '../../../examples';
import { Checkmark } from '@hpe-design/icons-grommet';

## Anatomy

See [general layer anatomy](/components/layer#anatomy) for specifications applying to all layers.

## Layer closing behavior

The closing behavior and anatomy of a center layer will differ depending on if the layer is informational or actionable.

<Notification
  status="info"
  message="A center layer should either have actions in the footer or a close button in the header, not both."
  width="xlarge"
  margin={{ bottom: 'medium' }}
/>

### Informational

For informational layers that do not require any user actions, place a [close icon](/foundation/icons#ui-actions) button in the layer header.

<Example plain>
  <CenterLayerAnatomy informational />
</Example>

| Label | Region           | Purpose           |                  Required                   | Notes             |
| ----- | ---------------- | ----------------- | :-----------------------------------------: | ----------------- |
| **1** | **Close button** | Closes the layer. | <Checkmark a11yTitle="true" size="small" /> | Use "Close" icon. |

The user should be able to dismiss the informational layer by clicking outside, `onClickOutside`, or using the Escape key, `onEsc`.

### Actionable

For layers that require user actions, place a "Cancel" action alongside the other footer actions. In some cases, a label other than "Cancel" may be appropriate.

<Example plain>
  <CenterLayerAnatomy />
</Example>

| Label | Region             | Purpose                                                          |                  Required                   | Notes                                                                                                                                                                                                                                |
| ----- | ------------------ | ---------------------------------------------------------------- | :-----------------------------------------: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **1** | **Footer actions** | Allows the user to confirm, apply, or cancel the layer's action. | <Checkmark a11yTitle="true" size="small" /> | The actions should be right-aligned with primary action on the right. Right-alignment signals progress and forward momentum. One action should be a "Cancel" button that closes the layer, returning the user to the previous state. |

To prevent the user from losing progress due to accidental clicks outside of a layer, `onClickOutside` functionality should not be enabled. The user should be able to dismiss the actionable layer by using the Escape key, `onEsc`.

### Double confirmations

When data has been edited or changed and the user tries to close the layer, a double confirmation should be shown. This helps avoid unintentional loss of work.

Learn more about the anatomy and implementation of a [double confirmation](/components/layer#double-confirmations) on the main layer page since this behavior applies to all layer types.

## Examples

### Confirming next steps

<Example
  code="https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/components/layer/CenterInformational.js"
  github="https://github.com/grommet/hpe-design-system/blob/master/apps/docs/src/examples/components/layer/CenterInformational.js"
  showResponsiveControls={['fullScreen']}
  screenContainer
  height="650px"
  width="100%"
>
  <CenterInformational />
</Example>

### Highly destructive confirmation

<Notification
  status="info"
  message="Additional destructive confirmation patterns differing based off of level of severity are coming soon."
  width="xlarge"
  margin={{ bottom: 'medium' }}
/>

Highly destructive actions refer to use cases where large amounts of data will be deleted and cannot be restored. In these instances, have the user type a string that matches the name or path of the object to be deleted. This approach ensures the user is aware of the consequences of the action.

<Example
  code={[
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/apps/docs/src/examples/templates/content-layouts/ContentDrivenLayout.js',
    'https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-core/src/js/components/layouts/ModalDialog/ModalDialog.js',
  ]}
  github="https://github.com/grommet/hpe-design-system/blob/master/apps/docs/src/examples/templates/content-layouts/ContentDrivenLayout.js"
  showResponsiveControls={['fullScreen']}
  screenContainer
  height="650px"
  width="100%"
>
  <ContentDrivenLayout />
</Example>
